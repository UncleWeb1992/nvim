return {
	-- ================================================
	-- ПЛАГИН: lewis6991/gitsigns.nvim
	-- Отображение изменений Git на полях редактора
	-- ================================================
	{
		"lewis6991/gitsigns.nvim", -- Плагин для интеграции Git с Neovim
		event = "VeryLazy", -- Отложенная загрузка (оптимизация производительности)
		config = function()
			require("gitsigns").setup({
				-- Настройки значков для изменений Git
				signs = {
					add = { text = "│" }, -- Значок для добавленных строк (вертикальная линия)
					change = { text = "│" }, -- Значок для измененных строк (вертикальная линия)
					delete = { text = "_" }, -- Значок для удаленных строк (нижнее подчеркивание)
					topdelete = { text = "‾" }, -- Значок для удаленных строк сверху (верхнее подчеркивание)
					changedelete = { text = "~" }, -- Значок для одновременно измененных и удаленных строк (тильда)
					untracked = { text = "┆" }, -- Значок для неотслеживаемых файлов (пунктирная линия)
				},
			})
		end,
	},

	-- ================================================
	-- ПЛАГИН: kevinhwang91/nvim-hlslens
	-- Улучшенное отображение результатов поиска
	-- ================================================
	{
		"kevinhwang91/nvim-hlslens", -- Плагин для улучшения визуализации поиска
		event = "VeryLazy", -- Отложенная загрузка
		config = function()
			require("hlslens").setup() -- Базовая настройка плагина
		end,
	},

	-- ================================================
	-- ПЛАГИН: petertriho/nvim-scrollbar
	-- Кастомизированная полоса прокрутки с маркерами
	-- ================================================
	{
		"petertriho/nvim-scrollbar", -- Плагин для кастомизации скроллбара (полосы прокрутки)
		event = "VeryLazy", -- Загружать только при первом использовании (оптимизация производительности)

		config = function()
			-- Получаем цвета из текущей цветовой схемы (tokyonight)
			-- Это обеспечивает согласованность цветов с вашей темой
			local colors = require("tokyonight.colors").setup()

			-- Основная настройка плагина
			require("scrollbar").setup({
				-- ============================================
				-- ОСНОВНЫЕ НАСТРОЙКИ ОТОБРАЖЕНИЯ
				-- ============================================
				show = true, -- Всегда показывать скроллбар
				show_in_active_only = true, -- Показывать только в активном окне (экономит место)
				set_highlights = true, -- Автоматически устанавливать подсветку для элементов скроллбара
				folds = 1000, -- Максимальное количество сворачиваемых блоков для отображения
				max_lines = false, -- Не ограничивать максимальное количество строк для отображения скроллбара
				hide_if_all_visible = true, -- Скрывать скроллбар, если весь текст виден в окне
				throttle_ms = 100, -- Задержка обновления (в миллисекундах) для плавной работы

				-- ============================================
				-- НАСТРОЙКИ РУЧКИ СКРОЛЛБАРА (ПОЛЗУНКА)
				-- ============================================
				handle = {
					color = colors.bg_highlight, -- Цвет ручки скроллбара (подсвеченный фон из темы)
				},

				-- ============================================
				-- НАСТРОЙКИ ЦВЕТОВ ДЛЯ РАЗНЫХ МАРКЕРОВ
				-- ============================================
				marks = {
					Search = { color = colors.orange }, -- Маркеры поиска (оранжевый) - работает с nvim-hlslens
					Error = { color = colors.error }, -- Маркеры ошибок LSP (красный)
					Warn = { color = colors.warning }, -- Маркеры предупреждений LSP (желтый)
					Info = { color = colors.info }, -- Маркеры информации LSP (синий)
					Hint = { color = colors.hint }, -- Маркеры подсказок LSP (бирюзовый)
					Misc = { color = colors.purple }, -- Прочие маркеры (фиолетовый)
				},

				-- ============================================
				-- ИСКЛЮЧЕНИЯ: ТИПЫ БУФЕРОВ БЕЗ СКРОЛЛБАРА
				-- ============================================
				excluded_buftypes = {
					"terminal", -- Терминальные буферы (скроллбар не нужен)
					"nofile", -- Специальные буферы (справка, quickfix и т.д.)
					"prompt", -- Буферы с промптами (диалоговые окна)
				},

				-- ============================================
				-- ИСКЛЮЧЕНИЯ: ТИПЫ ФАЙЛОВ БЕЗ СКРОЛЛБАРА
				-- ============================================
				excluded_filetypes = {
					"TelescopePrompt", -- Окно Telescope (поиска) - временные буферы
					"noice", -- Плагин для уведомлений и попапов
					"NvimTree", -- Файловый менеджер NvimTree (панель навигации)
					"neo-tree", -- Альтернативный файловый менеджер
					"dashboard", -- Дашборд при запуске Neovim
					"alpha", -- Еще один плагин для дашборда
					"starter", -- Стартовые страницы и введения
				},

				-- ============================================
				-- НАСТРОЙКИ РАЗЛИЧНЫХ ОБРАБОТЧИКОВ МАРКЕРОВ
				-- ============================================
				handlers = {
					cursor = false, -- ОТКЛЮЧИТЬ индикатор текущей позиции курсора (движущийся маркер)
					diagnostic = true, -- ВКЛЮЧИТЬ маркеры для диагностики LSP (ошибки, предупреждения и т.д.)
					gitsigns = true, -- ВКЛЮЧИТЬ маркеры для изменений Git (работает с gitsigns.nvim)
					handle = true, -- ВКЛЮЧИТЬ отображение самой ручки скроллбара (ползунка)
					search = true, -- ВКЛЮЧИТЬ маркеры для результатов поиска (работает с nvim-hlslens)
					ale = false, -- ОТКЛЮЧИТЬ интеграцию с ALE (альтернативный линтер, не используется)
				},
			})
		end,
	},
}
